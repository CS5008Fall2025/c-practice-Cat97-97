<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="white"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold">Memory Diagram: create_triangle(2, 3)</text>
  
  <!-- Stack Section -->
  <rect x="50" y="60" width="200" height="500" fill="#e8f4fd" stroke="black" stroke-width="2"/>
  <text x="150" y="90" text-anchor="middle" font-size="18" font-weight="bold">Stack</text>
  
  <!-- Stack variable -->
  <rect x="70" y="120" width="160" height="50" fill="white" stroke="black" stroke-width="1"/>
  <text x="150" y="150" text-anchor="middle" font-size="14">tri = @1000</text>
  
  <!-- Heap Section -->
  <rect x="350" y="60" width="400" height="500" fill="#fff9e6" stroke="black" stroke-width="2"/>
  <text x="550" y="90" text-anchor="middle" font-size="18" font-weight="bold">Heap</text>
  
  <!-- Polygon struct -->
  <rect x="380" y="120" width="160" height="80" fill="#ffe6e6" stroke="black" stroke-width="1"/>
  <text x="460" y="110" text-anchor="middle" font-size="12" fill="gray">@1000</text>
  <text x="460" y="145" text-anchor="middle" font-size="14" font-weight="bold">Polygon</text>
  <text x="400" y="165" font-size="12">size: 3</text>
  <text x="400" y="185" font-size="12">points: @2000</text>
  
  <!-- Point* array -->
  <rect x="570" y="120" width="160" height="100" fill="#e6f3ff" stroke="black" stroke-width="1"/>
  <text x="650" y="110" text-anchor="middle" font-size="12" fill="gray">@2000</text>
  <text x="650" y="145" text-anchor="middle" font-size="14" font-weight="bold">Point* array</text>
  <text x="590" y="165" font-size="12">points[0] = @3000</text>
  <text x="590" y="185" font-size="12">points[1] = @3100</text>
  <text x="590" y="205" font-size="12">points[2] = @3200</text>
  
  <!-- Point structs -->
  <!-- Point at @3000 -->
  <rect x="380" y="280" width="120" height="70" fill="#e6ffe6" stroke="black" stroke-width="1"/>
  <text x="440" y="270" text-anchor="middle" font-size="12" fill="gray">@3000</text>
  <text x="440" y="305" text-anchor="middle" font-size="14" font-weight="bold">Point</text>
  <text x="400" y="325" font-size="12">x: 0</text>
  <text x="400" y="340" font-size="12">y: 0</text>
  
  <!-- Point at @3100 -->
  <rect x="520" y="280" width="120" height="70" fill="#e6ffe6" stroke="black" stroke-width="1"/>
  <text x="580" y="270" text-anchor="middle" font-size="12" fill="gray">@3100</text>
  <text x="580" y="305" text-anchor="middle" font-size="14" font-weight="bold">Point</text>
  <text x="540" y="325" font-size="12">x: 2</text>
  <text x="540" y="340" font-size="12">y: 0</text>
  
  <!-- Point at @3200 -->
  <rect x="380" y="370" width="120" height="70" fill="#e6ffe6" stroke="black" stroke-width="1"/>
  <text x="440" y="360" text-anchor="middle" font-size="12" fill="gray">@3200</text>
  <text x="440" y="395" text-anchor="middle" font-size="14" font-weight="bold">Point</text>
  <text x="400" y="415" font-size="12">x: 2</text>
  <text x="400" y="430" font-size="12">y: 3</text>
  
  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
    </marker>
  </defs>
  
  <!-- Arrow from tri to Polygon -->
  <line x1="230" y1="145" x2="380" y2="160" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow from Polygon to Point* array -->
  <line x1="540" y1="180" x2="570" y2="180" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrows from Point* array to Points -->
  <line x1="590" y1="165" x2="500" y2="280" stroke="black" stroke-width="1" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
  <line x1="590" y1="185" x2="540" y2="280" stroke="black" stroke-width="1" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
  <line x1="590" y1="205" x2="500" y2="370" stroke="black" stroke-width="1" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
  
  <!-- Key Points Box -->
  <rect x="50" y="470" width="700" height="70" fill="#f0f0f0" stroke="black" stroke-width="1"/>
  <text x="60" y="495" font-size="14" font-weight="bold">Key Points:</text>
  <text x="60" y="515" font-size="12">• Stack variable 'tri' holds address @1000 pointing to heap</text>
  <text x="60" y="530" font-size="12">• All structures are separately allocated on heap - must free each individually to prevent memory leaks</text>
</svg>